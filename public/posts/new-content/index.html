<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content=""
  />
  
    
      <title>frame-oa 说明 | Blog Title</title>
    
  
  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <header>
  <div id="brand">
    <a class="icon-link" href="https://www.jarrychung.com/">
      <img
        class="icon"
        src="/images/brandIcon.svg"
      />
    </a>
    <div class="text">
      <a href="https://www.jarrychung.com/"><h1>Blog Title</h1></a>
      <h3>Description about Blog Author</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/"><b>Home</b></a>
      
         | 
        <a href="/about/"><b>About</b></a>
      
         | 
        <a href="/posts/"><b>Posts</b></a>
      
         | 
        <a href="/categories/"><b>Categories</b></a>
      
         | 
        <a href="/tags/"><b>Tags</b></a>
      
    
  </nav>
  <hr />
</header>

    <div id="content">
      
  <main>
    <article>
      <h1>frame-oa 说明</h1>
      <div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2021-01-13</time>
    <span>in</span>
    
      <a href="/categories/framework">framework</a>
  </strong>
  <span> • 423 words</span>
  <span> • 2 minute read</span>
  
    <div>
      Last updated on
      <time>2021-08-18</time>
    </div>
  
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/frame">frame</a>
    </div>
  
</div>

      <div><p>这是一段简单的介绍</p>
<h2 id="特性">特性</h2>
<ol>
<li>
<p>单页应用(SPA)，一个项目内仅有一个 Vue 实例，由前端路由管理页面跳转，由 Vuex 管理公共状态；</p>
</li>
<li>
<p>支持自定义 Layout，以下为 Layout 需要暴露的接口：</p>
<ul>
<li><code>slot#logo</code>、<code>slot#header</code>、<code>slot#default</code>(业务内容区域)</li>
<li><em>props</em> 的内容请参考相应 Layout 组件的文档；</li>
</ul>
</li>
<li>
<p>使用 <a href="https://github.com/axios/axios">axios</a> 作为请求库，<code>delete</code> / <code>get</code> / <code>post</code> / <code>put</code> 方法将挂载在 Vue 原型的 <code>$http</code> 属性上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 对于 get / delete 请求，data 中的值将会被添加到 url 后边，接入层通过 url 参数拿到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;url&#39;</span>, <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Tigaaa&#39;</span> }).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> =&gt; { <span style="color:#75715e">/** code */</span> })
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;url&#39;</span>, <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Tigaaa&#39;</span> }).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> =&gt; { <span style="color:#75715e">/** code */</span> })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 对于 put / post 请求，data 中的值将会被添加到请求的 body 中，接入层通过 body 拿到
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">put</span>(<span style="color:#e6db74">&#39;url&#39;</span>, <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Tigaaa&#39;</span> }).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> =&gt; { <span style="color:#75715e">/** code */</span> })
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$http</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;url&#39;</span>, <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Tigaaa&#39;</span> }).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> =&gt; { <span style="color:#75715e">/** code */</span> })
</span></span></code></pre></div></li>
<li>
<p>支持 <strong>HMR</strong>，现在，改动前端代码后将会自动热更新浏览器中相应的模块，而不必手动刷新或刷新整个页面；</p>
</li>
<li>
<p>接入层支持自动重载；</p>
</li>
<li>
<p>按需引入 <a href="https://antdv.com/docs/vue/introduce-cn/">ant-design-vue</a>，在 <em>src/plugins/antdv.js</em> 手动引入即可；</p>
</li>
<li>
<p>默认支持 JSX；</p>
</li>
<li>
<p>使用 <em>style module</em> 解决 CSS 命名重复问题(scoped 依赖于属性选择器，性能不如类选择器)；</p>
</li>
<li>
<p>使用 LESS 编写样式；</p>
</li>
<li>
<p>默认提供事件总线(使用 <code>new Vue()</code> 实现)，使用方式：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 监听事件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$bus</span>.<span style="color:#a6e22e">$on</span>(<span style="color:#e6db74">&#39;eventName&#39;</span>, (...<span style="color:#a6e22e">args</span>) =&gt; { <span style="color:#75715e">/** code */</span> })
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 触发事件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$bus</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#39;eventName&#39;</span>, <span style="color:#a6e22e">data1</span>, <span style="color:#a6e22e">data2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 解除监听，若不传入回调函数名，则会解除该事件下的所有监听
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$bus</span>.<span style="color:#a6e22e">$off</span>(<span style="color:#e6db74">&#39;eventName&#39;</span>[, <span style="color:#a6e22e">fn</span>])
</span></span></code></pre></div><ol start="11">
<li>
<p>更简洁的命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 安装依赖，直接在项目根目录安装所有依赖</span>
</span></span><span style="display:flex;"><span>npm run init
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 启动项目，再也不需要开两个终端分别启动前端以及接入层</span>
</span></span><span style="display:flex;"><span>npm start
</span></span></code></pre></div></li>
<li>
<p>前端产生错误时，将会直接在控制台显示或者在页面中显示，不需要查阅终端；</p>
</li>
<li>
<p>对于 xhr 请求的路径，应始终以 <code>/api</code> 为前缀；</p>
</li>
</ol>
<h2 id="规范太长不看版本">规范太长不看版本</h2>
<ol>
<li>
<p><em>.vue</em> 单文件命名采用大驼峰，组件 <em>name</em> 字段为<strong>必填</strong>，引入时必须引入后缀；</p>
</li>
<li>
<p><em>.js</em> 文件命名采用中划线连接，引入时可不写后缀；</p>
</li>
<li>
<p>样式使用 <em>less</em> 与 <em>module</em>；</p>
</li>
<li>
<p>提交信息采用 angular 规范：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">type</span><span style="color:#f92672">&gt;</span>(<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">scope</span><span style="color:#f92672">&gt;</span>)<span style="color:#f92672">:</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">subject</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">BLANK</span> <span style="color:#a6e22e">LINE</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">body</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">BLANK</span> <span style="color:#a6e22e">LINE</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">footer</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>其中 type 为 feat、fix、doc、style 等，scope 为 tapd 上的工单 ID，subject 为本次代码更改的简要说明；</p>
<p>body 为详细说明，可选；</p>
<p>footer 为本次代码更改后出现的不兼容情况或被废弃的内容；</p>
<p>举个例子：</p>
<pre tabindex="0"><code>feat(ID1146609): 港股期权资本调整需求

1. 完成已处理页面；

1. formatDate 函数已被废弃，由 formatTime 函数替代；
</code></pre></li>
</ol>
<h2 id="目录说明">目录说明</h2>
<pre tabindex="0"><code>.
├── README.md ------------------------------------- 项目文档
├── client ---------------------------------------- 前端
│   ├── README.md
│   ├── babel.config.js -------------------------- babel 配置
│   ├── config ----------------------------------- webpack 配置，分环境管理
│   │   ├── webpack.config.dev.js
│   │   ├── webpack.config.js
│   │   └── webpack.config.prod.js
│   ├── package.json
│   ├── public ----------------------------------- 资源，不会被 webpack 编译
│   │   ├── favicon.ico
│   │   └── index.html
│   ├── src -------------------------------------- 前端源码
│   │   ├── App.vue ----------------------------- Vue 根组件
│   │   ├── assets ------------------------------ 资产，如图片等
│   │   ├── components -------------------------- 公共组件
│   │   ├── main.js ----------------------------- 入口
│   │   ├── plugins ----------------------------- 插件，对外部库的处理或封装
│   │   ├── router ------------------------------ 路由
│   │   ├── store ------------------------------- 状态库
│   │   ├── styles ------------------------------ 样式
│   │   ├── utils ------------------------------- 工具函数
│   │   └── views ------------------------------- 路由级页面
│   │       └── about
│   │           ├── About.vue ------------------- 页面入口
│   │           └── components ------------------ 业务组件
│   └── vue.config.js ---------------------------- vue 配置文件 
├── common ---------------------------------------- 前端、接入层共用代码
├── package.json
└── server ---------------------------------------- 接入层
    ├── README.md
    ├── app --------------------------------------- 接入层源码
    │   ├── controller --------------------------- 控制层
    │   ├── middleware --------------------------- 中间件
    │   ├── public ------------------------------- 静态资源目录
    │   ├── router.js ---------------------------- 路由
    │   ├── service ------------------------------ 服务层
    │   └── view --------------------------------- 渲染模版目录
    ├── config ------------------------------------ egg 相关配置目录
    ├── logs -------------------------------------- agudo 日志
    ├── package.json
    └── run --------------------------------------- agudo 运行信息
</code></pre><h2 id="相关链接">相关链接</h2>
<ol>
<li>如何新建一个项目</li>
<li>如何开发一个新页面</li>
<li>编码以及文件命名规范</li>
<li>样式规范</li>
<li>提交格式规范</li>
<li>Axios 封装文档</li>
<li>Vue CLI 产生的 Webpack 默认配置说明</li>
</ol></div>
    </article>
  </main>

    </div>
    <footer>
  <hr />
  
    <p id="social">
      Find me around the web:
      <br />
      
        
        <a href="https://github.com/ian-s-mcb">GitHub</a>
      
         | 
        <a href="https://gitlab.com/ian-s-mcb">GitLab</a>
      
         | 
        <a href="https://quizlet.com/ian-s-mcb">Quizlet</a>
      
         | 
        <a href="https://www.reddit.com/user/ian-s-mcb">Reddit</a>
      
         | 
        <a href="https://stackoverflow.com/users/3417846/ian-s-mcb">StackOverflow</a>
      
    </p>
  
  <p class="copyright">
    Copyright © 2022
    <a href="https://www.jarrychung.com/"><strong>Jarry Chung</strong></a>.
    This work is licensed under the
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.
  </p>
</footer>

  </body>
</html>
